\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[swedish]{babel}
\usepackage{authblk}
\usepackage{biblatex}
\addbibresource{sources.bib}

\title{ProjektRapport 14}
\author{Alamin Alreda \and Sebastian Danckwardt \and Isac Holm \and Zaid Haj Ibrahim   \and Edvin Svahn}
\date{September 2022}

\begin{document}

\maketitle
 
\section{Introduction}
\subsection{Syfte}
Varför?
\\
Bara under 2021 har 72 884 fall av inbrottsstöld anmälts\cite{BRa}. 
Cirka 20\% svarar att de inte har ett hemlarm för att det helt enkelt är för dyrt\cite{MoFor}.
Genom att skapa ett system med ett billigt md407-kort kan man sänka kostnaderna för denna produkt och bekämpa brott i alla områden i Sverige. 
Projektet syftar till att skapa ett lättanvändligt och billigt larmsystem för att skydda mot stöld. 
Detta då endast 29\% av Sveriges befolkning idag använder ett larmsystem\cite{SSF}.
\subsection{Mål}
Vad?
\\
Målet med projektet är att konstruera ett larm/lås-system med två olika larmenheter: 
den ena ska kunna upptäcka i fall en dörr står öppen och den andra ska detektera rörelse och vibrationer. 
En central styrenhet ska utgöra den del av larmsystemet som har i uppgift att kommunicera med de fristående larmenheterna. 
Detta ska möjliggöra centraliserad kontroll och kalibrering av flera periferienheter i ett större larmsystem. 
Ytterligare en periferienhet ska simulera ett defekt larm i syfte för testning.
\\\\
När den centrala styrenheten startar ska en förfrågan skickas till de anslutna periferienheterna därpå de svarar med dess typ och konfiguration för att sedan tilldelas ett unikt ID. De olika larmenheterna ska inledningsvis larma lokalt med en röd lysdiod, om specifika krav nås meddelas den centrala styrenheten. Dörrlarmet larmar till centralenheten efter en bestämd tid medans rörelsesensorn måste upptäcka rörelse på ett visst avstånd. Det ska även vara möjligt att låsa/låsa upp dörren samt inaktivera dörrlarmet genom att mata in en fyrsiffrig kod på en keypad.


\subsection{Arbetsmetod}
Hur har vi gått tillväga i det tekniska utvecklingsarbetet

\section{Teknisk beskrivning}
I det här kapitlet redogörs projektets tekniska bedrifter. 
I den tekniska bakgrunden beskrivs varför systemet är uppbyggt av de delar som det är.
Därefter ger Systemöversikten en övergripande förståelse för hur systemet är uppbyggt och sist men inte minst förklarar Delsystem hur delarna är uppbyggda.


\subsection{Teknisk bakgrund}
Vad är utgångspunkten för konstruktionsarbetet?

\subsection{Systemöversikt}
Hur ser det konstruerade systemet ut på en övergripande nivå?

\subsection{Delsystem}
Hur ser det delar som ingår i systemet ut?
\subsubsection{Centalenhet}
Centralenheten kommunicerar ständigt med dörrenheten och sensorenheten över en CAN buss (Controller Area Network), denna komunikation kommer att omfatta ACK-, larm-, och konfiguration meddelanden. Dessutom ska centralenheten hantera all kommunikation mellan användaren och systemet genom USART. För att användaren ska få tillgång till systemet ska hen skriva in rätt lösenord. Därefter ska användaren kunna, för varje dörr, slå på eller av larmet, ändra tröskelvärdet,låsa eller låsa upp dörren. Utöver det ska använddaren kunna också ändra tröskelvärdet för avståndsmätaren.



\subsubsection{Dörrenhet}

Dörrenheten kommer att vara kopplad till flera dörrar, där varje dörr kommer att vara kopplad till en grönlapma, en rödlampa och ett lås.Utöver det kommer varje dörr att ha sitt eget tröskelvärde som bestämmer när ska larmet gå av. När tiden har gått ett tröskelvärde kommer det lokala larmet att gå av och det kan man se genom att den röda lampan lyser. Efter två tröskelvärden kommer dörrenheten att skicka till centralenheten för att påställa störenheten. Om dörren är stängd ska den gröna lampan lysa medan det lokala och centrla larmet ska vara avstängda. 

\subsubsection{Sensorenhet}

Sensorenheten kommer att vara kopplad till två sensorer; avståndsmätare och vibrationsensor (HC-SR04 respektive SW-18010P).Avståndsmätaren kommer läsa av avståndet till ett objekt genom att skicka ultraljudssignaler och vänta på att få tillbaka ett eko. Mättningen av avståndet kommer att ske genom att räkna skillanden i mikrosekunder mellan ultraljudssignaler och deras eko, därefter divideras tiden med 58 för att få avståndet i cm. Avståndet kommer att mättas kontinuerligt i intervaller av 60 millisekunder, om avståndet överstiger eller blir mindre än tröskelvärdet kommer det centrala larmet att gå av.\\
\\
Å andra handen kommer också vibrationsensor att känna av vibrationer, ifall den känner av någon vibration kommer den att den skicka till centralenheten för att slå på störenhetn.



\section{Resultat}
Detta avsnitt redovisar resultatet av genomförd verifiering av systemet; dels fördelarna, dels för 
komplett system. Detta avsnitt redovisar även resultatet av det slutliga fysiska testet när hela systemet 
körs i skarpt läge. Ni ska främst redovisa resultat i form av funktionalitet, men ta också upp prestanda 
aspekter om dessa är viktiga.  
\section{Slutsatser}
\newpage
\section{Källförteckning}
\printbibliography[title=\n]

\end{document}
